<!DOCTYPE html>
<html>
<head>
  <title>Sandwichs & Subs: Checkout Page</title>

  <link rel="stylesheet" href="/css/Sub-Checkout.css">
  <script>
    
    function saveOrder() {
      var itemName = document.getElementById("item-name").value;
      var itemPrice = document.getElementById("item-price").value;

      var order = {
        itemName: itemName,
        itemPrice: itemPrice
      };

      var orderJSON = JSON.stringify(order);

      localStorage.setItem("order", orderJSON);
    }

    function applyCoupon() {
      var couponCode = document.getElementById("coupon-code").value;

      if (couponCode === "SALE10") {
        var orderJSON = localStorage.getItem("order");

        var order = JSON.parse(orderJSON);

        var itemPrice = parseFloat(order.itemPrice);
        var discountPercentage = 10; 
        var discountAmount = (itemPrice * discountPercentage) / 100;
        var discountedPrice = itemPrice - discountAmount;

        document.getElementById("item-price").value = discountedPrice.toFixed(2) + " ZAR";
      } else {
        alert("Invalid coupon code");
      }
    }
  </script>
</head>
<body>
  <h1>Checkout Page</h1>
  <form>
    <label for="item-name">Item Name:</label>
    <input type="text" id="item-name" required><br>

    <label for="item-price">Item Price:</label>
    <input type="text" id="item-price" required><br>

    <label for="coupon-code">Coupon Code:</label>
    <input type="text" id="coupon-code"><br>

    <button type="button" onclick="saveOrder()">Save Order</button>
    <button type="button" onclick="applyCoupon()">Apply Coupon</button>
  </form>
</body>
</html>
